# simple-skills项目介绍
Simple Skills是一款朴素的技能管理工具,它是一款**长计时**工具,因为我自己需要,而市面上没有什么专业的长计时工具,所以我根据自己的需求写了一款,这是一款**离线应用**,除了在浏览器首次打开需要网络,往后都可以无网络访问,用户的**所有数据都存储在用户自己的电脑上**.
> 备注:
访问地址:https://me-lixin.github.io/
## 局限:
- 在可靠性这一点上它已经做了力所能及所有:
1. Simple Skills没有后台，所有数据都存在你自己的浏览器中，如果你清空网站应用数据，则这些数据会消失（正常使用时不会清空数据的）.
2. 假如你已经使用了一段时间，但因为一些缘故要更换浏览器，这时候你可能想把数据迁移到新的浏览器，网站的导出导入应用数据可支持此需求。
3. 网站每分钟都会将计时数据同步到IndexedDB.
4. 在页面意外关闭的时候,比如误关/停电/操作系统崩溃等情况,都会在页面关闭前将数据存储,确保最大程度上的计时准确.
5. 在计时过程中,若是电脑休眠锁屏,但页面未关闭的情况下,将利用本地时间计时,在页面恢复的情况下同步时间.

> 备注:
现在计时已经和本地计时器一样可靠了.因为它支持了离线功能,所有的页面将在第一次访问的时候缓存起来,在后续的访问中将直接访问本地缓存.

## 快速使用
1. 下载代码(克隆或是直接下载压缩包都行)
2. 在你的电脑上用浏览器打开index.html文件即可.

> 备注:
因为浏览器的同源安全策略,在不启动本地服务器的情况下是无法加载一些资源的，比如图片，如果是Mac系统可以直接在终端使用`python -m http.server`命令来启动一个本地服务器,然后在页面上访问`http://localhost:8000`就可以使用服务器目录打开**Simple Skills**项目了.Windows系统也可以使用VS Code中的插件来开启一个本地服务器.

## 技术栈
- HTML
- CSS
- JavaScript
    1. IndexedDB(存储用户数据)
    2. ~~Worker API~~(改用时间戳)
    3. canvas(绘制图表)
    4. ServiceWorker+Catch(本地缓存)
    5. fetch(配合缓存图片)
    6. localStorage(存储自增id)

## 功能介绍
- 技能管理
    1. 在页面的右上角点击`+`号创建一个新技能
    2. 为你的技能设置一个名称
    3. 估算一下你需要多长时间能掌握这项技能,通常需要1000个小时以上,但如果你有基础的话会快一些.于是这里的可选值被设计成200-1000.
    4. 计划一下你每日需要给这个技能投入多长时间,有研究证明3小时以下效率低下,于是这里的可选值被设计为3-15.
    5. 点击保存,你就创建好了技能,左侧内容区就会出现你的技能卡片,里面列出了一些比较重要的信息.
- 计时功能
    1. 点击内容卡片左下角的**播放按钮**开始计时,页面会被一张好看的图片蒙版覆盖.
    2. 蒙版页面有切换计时模式的功能按钮,有电子计时器,有暂停和停止按钮(支持空格键控制).
    3. 若是你想返回主页可以按键盘左上角的退出键(`esc`)来退出蒙版,计时会自动暂停，触摸屏双击空白处退出.
    4. 若是你今天的计时任务已经完成或是想提前结束,可以在暂停的情况下点击右边的停止按钮(此按钮只有在计时暂停时才会出现),来重置计时器.
    5. 点击停止按钮后你的今日累计/和今天还需以及当前的计时器数据(时分秒)都会被重置.
    6. 但你的数据已经保存在了本地数据库中，具体体现在累计计时和日志页面。
- 日志功能    
    1. 每次暂停或停止计时的时候,系统都会生成一条计时日志,记录你从刚刚学习了多少时间,并输入在日志页面.
    2. 每次页面加载默认只加载当天的日志,如果你想看昨天或更早些时间的日志,可以点击日志页面左下角的"加载历史日志"进行加载,每次加载往后推一天,也就是说如果你想查看30天前的 日志,你得点击30次.
    3. 当然你也可以使用日志下载功能,一次性将当前的所有日志下载到你的文件夹中.
    4. 日志采用时间推移的方式进行查询,每次都是以当前时间向后推移一天来查询,每次都会在日志页面显示查询当天的时间,哪怕你之前没有产生日志,页面也会出现那天的时间.
- 统计功能
    1. 统计页面默认展示从现在向后推30天的历史统计,不是按照月初或月末这种方式统计的.
    2. 右上角有一个按钮可以用来切换统计视图,默认加载的视图是按月统计,你可以切换为按年统计.
    3. 按年统计同样是以当前的时间向后推12个月的统计数据.
    4. 统计视图中实现了辅助线和实时显示当前y坐标数据的功能,你把鼠标移动过去就能看到当前位置对应的时间和数据（触摸屏需要点击才显示）。
- 数据迁移
    1. 导出数据
       1. 在首页使用快捷键`control+e`打开隐藏按钮（触摸屏连点屏幕3次）。
       2. 点击导出按钮，浏览器将会自动下载两个文件——日志.json和技能.json
       3. 使用esc（左上角）键退出隐藏按钮（触摸屏连点屏幕2次）。
    2. 导入数据
       1. 在首页使用快捷键`control+e`打开隐藏按钮（触摸屏连点屏幕3次）。
       2. 点击导入按钮，分别将日志.json和技能.json导入。
       3. 导入完成后刷新页面。
       4. 使用esc（左上角）键退出隐藏按钮（触摸屏连点屏幕2次）。

> 备注:这个应用进行了很好的响应化设计,在移动端页面打开也能有很好的访问体验.不同于大多数网站的网格设计,等比例缩小在更小的屏幕上阅读起来相当费劲,于是应用采用了flex弹性布局,在窄屏设备展示为单列布局,宽屏是多列布局以及默认打开侧边栏.同时在页面设计上也遵循了基本的语义化标签,对于无障碍来说,除了按钮大多没有文字描述以外,其他方面应该是比较友好的.

如你所见,这款应用的技术非常简单,完全就是用最基础/最原生的技术完成的,可以说一点都不高大上.
但它的功能却也是相对完整的.比如它除了核心的计时功能和基础的CRUD功能外,还有日志功能/统计功能/导入导出以及文件下载功能.
这对于为学习计时这样的需求来说已经完全够用了,比起专业的计时软件它没那么多强大的功能,也不符合番茄钟,也没有计时提醒功能,但对于学习这件事来说刚好.

## 它为什么这么设计?
- 对于任何有极高价值的技能来说,1000小时的投入也仅仅算入门而已,所以这所谓的长计时实际上也算不长.
- 设计之初是因为我需要一个比较定制化的计时功能,我原本是用手机上的时钟功能计时的,可是很快我就发现了不便之处.
    1. 每次当我吃饭回来重新投入学习的时候,总是要先打开手机,再找到时钟应用,再点击开始.流程并不复杂,但次数多了就显得繁琐了.
    2. 手机常常会令我分神,比如突然瞟到有趣的内容,然后就去看了,都忘记自己拿起手机是要干啥来着.
    3. 常常忘记计时.
    4. 使用其他计时软件体验并不怎么好,它们大多数被设计为基于番茄钟的计时长度,最长也只能有8个小时的倒计时,手机好点,可以一次性计时99小时,但这又不方便我记录自己的每日用时.
- 于是我想明白了,大众软件的设计肯定是基于大众们的日常习惯和需求,对于我这种小众的需求肯定没有什么软件会满足了,于是我停止了对心仪软件的搜索.
- 仔细梳理了自己的需求,觉得设计一款这样的应用来为自己服务也不是不行.
    1. 你得有个设置学习技能的地方,方便添加要学习的技能.
    2. 你得有个总时长.
    3. 你得记录每天的时间投入.
    4. 计时模式最好是支持倒计时和正计时两种模式.
    5. 最好有个日志能够记录每天的时间投入情况,你每天8小时总不可能一次性就能完成8小时,中间可能处理日常事务啊,走神啊之类的活动,看看自己每天最多一次能专注多长时间,也算是对自己有个了解.
- 基于以上种种,于是就有了这么一款朴素的技能工具.

## 后期更新
- 计时将像本地计时器一样可靠.
- 先用一段时间,如果有必要,可以加上后台.
